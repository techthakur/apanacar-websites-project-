(window.webpackJsonp=window.webpackJsonp||[]).push([[197],{"./girnarsoft-react-common/widgets/model/emiStart.js":function(e,a,t){"use strict";t.r(a);var n=t("react"),i=t.n(n),l=t("./cd/utils/global.js"),s=t("./girnarsoft-react-common/widgets/ctaButtons/FinanceDCBButton.js"),c=t("./cd/configs/configs.js"),o=t.n(c),r=t("./girnarsoft-react-common/widgets/LazyComponent.js"),m=t("./girnarsoft-react-common/elements/index.js"),p=t("./girnarsoft-react-common/elements/CLink.js");class d extends i.a.Component{constructor(e){super(e),this.state={cls:"hide",showEmiPopup:!1},this.handleClick=this.handleClick.bind(this),this.changeEmiValues=this.changeEmiValues.bind(this)}componentDidUpdate(){let e=this;l.a.addPageScript((function(){$("#overlay-nav").bind("click",(function(){e.handleClick(!1)}))}))}componentWillUnmount(){$("#overlay-nav").unbind()}handleClick(e,a){let t="";a&&(t=$(a.target),l.a.setGtmTracking(t)),this.setState({showEmiPopup:e}),this.forceUpdate(),e?$("#overlay-nav").addClass("open"):$("#overlay-nav").removeClass("open")}shouldComponentUpdate(e,a){return!!l.a.isUrlChanged(this.props.location,e.location)}changeEmiValues(e){this.setState({emiValue:e})}render(){let e=this.props,a=this.props.emiStart;if(l.a.isEmptyObject(a))return null;let t=a.displayText&&!a.defaultCity?a.displayText:e.displayText?e.displayText:`Interest calculated at ${a.interestRate}% for ${a.months} months`,c=a.title?a.title:e.title;return i.a.createElement(n.Fragment,null,i.a.createElement("section",{className:`clearfix marginBottom20 shadow16 RightSideBar ${this.props.containerCls} ${a.vwFinanceBulletAmt?"BulletCalculation bulletamount":""}`,"data-track-component":"sidebaremi"},e.anchorH2?i.a.createElement(m.h,{tag:"h2"},i.a.createElement(p.a,{title:c,urlKey:"urlWithoutBackslash",slug:d.url,default:!1,prefix:!1,className:"link"},c)):i.a.createElement(m.g,{tag:"h2",content:c}),i.a.createElement("div",{className:"gsc_col-md-7 gsc_col-lg-8 holder gsc_col-xs-8 gsc_col-sm-8"},i.a.createElement("div",{className:"editEmi","data-dropdown-box":"emaiCalculator",onClick:a=>e.showEmiPopup?this.handleClick(!0,a):""},i.a.createElement("span",{className:"price"},i.a.createElement("span",{className:"icon-cd_R"},"Rs."),this.state.emiValue?this.state.emiValue:a[e.emiValueKey]),i.a.createElement(m.h,{tag:"span",className:"perMonth"},` /${e.perMonthText} ${a.checkAsterisk?"*":""}`),e.showEmiPopup&&i.a.createElement(m.h,{tag:"span",className:"edit",title:"Edit EMI"},"Edit")),i.a.createElement(m.h,{tag:a.applicableForloEMI&&!a.defaultCity?"s":"div",className:"interestRate"},t)),i.a.createElement(m.h,{tag:"div",className:"gsc_col-md-5 gsc_col-lg-4 gsc_col-xs-4 gsc_col-sm-4 iconEMI"},i.a.createElement(m.i,{src:`${o.a.imgPath}${a.applicableForloEMI&&!a.defaultCity?"loEMIicon.svg":"iconEMIv2.svg"}`,alt:"","data-lazy":e.lazyIcon,type:"image",autoFit:!1})),a.benifitOnLoEMI&&i.a.createElement(m.h,{tag:"div",className:(a.defaultCity?" ":"link")+" offerprice clear"},a.benifitOnLoEMI+" ",a.applicableForloEMI&&a.defaultCity&&i.a.createElement(s.a,{financeDto:e.financeDto,leadLocation:e.pageType+"_sidesection_NCF",pageType:e.pageType,ctaText:a.bottomText?a.bottomText:e.financeCtaText,innerCtaText:"Check Eligibility",ctaClass:"link hover",cb:e.handleClose,isLoEmi:a.applicableForloEMI,defaultCity:a.defaultCity})),a.vwFinanceImgUrl&&i.a.createElement("div",{className:"marginTop20 clear"},i.a.createElement(m.h,{tag:"div",className:"interestRate info"},a.vwFinanceBulletAmt||e.displayText||`Interest calculated at ${a.interestRate}% for ${a.months} months`,i.a.createElement("span",null,a.vwFinanceBulletAmt&&i.a.createElement(n.Fragment,null," ",i.a.createElement("i",{className:"icon-info"}),i.a.createElement("span",{className:"infoBox"},i.a.createElement(m.h,{tag:"p"},a.vwFinanceBulletAmtTitle))))),i.a.createElement("div",{className:""},i.a.createElement(m.i,{src:a.vwFinanceImgUrl,alt:e.financeDto?e.financeDto.brandName:e.dcbDto?e.dcbDto.brandName:"","data-lazy":!0,"data-servewebp":"true"}))),i.a.createElement("div",{className:"clearfix"}),i.a.createElement("div",{className:"buttonHolder"},e.financeDto&&i.a.createElement(s.a,{financeDto:e.financeDto,leadLocation:e.pageType+"_sidesection_NCF",pageType:e.pageType,ctaText:e.financeDto.ctaText?e.financeDto.ctaText:e.financeCtaText,innerCtaText:e.financeDto.ctaText,ctaClass:e.financeBtnCls,cb:e.handleClose}))),this.state.showEmiPopup&&i.a.createElement("div",{id:"SideemiCalculate",className:"show emiCalculate"},i.a.createElement(r.a,{componentName:"EmiCalculate",pageType:this.props.pageType,emi:a,financeDto:e.financeDto,changeEmiValues:this.changeEmiValues,handleClose:this.handleClick,dcbDto:this.props.dcbDto,variants:this.props.variants,modelName:this.props.modelName,isVariantPage:e.isVariantPage?e.isVariantPage:"",priceBased:e.priceBased})))}}d.defaultProps={title:"EMI Starts",emiValueKey:"value",financeCtaText:"Apply Loan",showEmiPopup:!0,perMonthText:"Month",priceBased:"Ex-Showroom",applicableForloEMI:!1,displayText:"",containerCls:"",financeBtnCls:"primaryButton",anchorH2:!1,lazyIcon:!1},a.default=d}}]);